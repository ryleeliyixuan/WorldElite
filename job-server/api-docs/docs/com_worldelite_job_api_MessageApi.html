<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>消息接口</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet" />
</head>
<body onload="PR.prettyPrint()">
<div id="wmd-preview" class="wmd-preview">
<h1><a href="../index.html">《首页</a> 消息接口:</h1>
<div class="toc">
    <ul>
    <li><a href="#当前用户消息列表">当前用户消息列表</a></li><li><a href="#获取未读消息数">获取未读消息数</a></li><li><a href="#设置消息已读">设置消息已读</a></li><li><a href="#设置全部消息已读">设置全部消息已读</a></li><li><a href="#删除消息">删除消息</a></li><li><a href="#删除全部消息">删除全部消息</a></li>
    </ul>
</div>
<hr>
<h2 id="当前用户消息列表">当前用户消息列表</h2>

<pre class="prettyprint lang-json">
method：GET
url: /api/message/list
</pre>

<p><strong>参数列表</strong></p>

<table><tr><th>参数名</th><th>类型</th><th>必需</th><th>描述</th></tr><tr><td>page</td><td>int</td><td>false</td><td>页数</td></tr><tr><td>limit</td><td>int</td><td>false</td><td>每页条数</td></tr><tr><td>sort</td><td>string</td><td>false</td><td>排序</td></tr><tr><td>readFlag</td><td>byte</td><td>false</td><td>已读标志</td></tr></table>

<p>返回结果: <a href="../javaCodes/com_worldelite_job_api_MessageApi_getMessageList_ApiResult.html">Android Code</a> | <a href="../iosCodes/com_worldelite_job_api_MessageApi_getMessageList_ApiResult.html">IOS Code</a></p>

<pre class="prettyprint lang-json">
{
  "code": "int //0为成功，其他错误码参考 ApiCode",
  "msg": "string //错误消息",
  "data": {
    "total": "int //总记录数",
    "pageCount": "int //页数",
    "currentPage": "int //当前页",
    "pageSize": "int //每页记录数",
    "list": [
      {
        "id": "int //消息ID",
        "fromUser": {
          "id": "long //用于后端",
          "userId": "string //字符串ID，用于前端",
          "name": "string //名字",
          "avatar": "string //头像",
          "gender": "byte //性别",
          "type": "byte //用户类型",
          "status": "byte //状态",
          "token": "string //登录凭证",
          "phoneCode": "string //电话区号",
          "phone": "string //电话号码",
          "email": "string //邮箱",
          "createTime": "date //创建时间",
          "subscribeFlag": "byte //订阅标志"
        },
        "content": "string //消息内容",
        "url": "string //查看url",
        "readFlag": "byte //已读标志"
      }
    ],
    "hasMore": "boolean //是否还有更多"
  }
}
</pre>

<hr><h2 id="获取未读消息数">获取未读消息数</h2>

<pre class="prettyprint lang-json">
method：GET
url: /api/message/unread-count
</pre>

<p><strong>参数列表</strong></p>

<table><tr><th>参数名</th><th>类型</th><th>必需</th><th>描述</th></tr></table>

<p>返回结果: <a href="../javaCodes/com_worldelite_job_api_MessageApi_getUnreadCount_ApiResult.html">Android Code</a> | <a href="../iosCodes/com_worldelite_job_api_MessageApi_getUnreadCount_ApiResult.html">IOS Code</a></p>

<pre class="prettyprint lang-json">
{
  "code": "int //0为成功，其他错误码参考 ApiCode",
  "msg": "string //错误消息",
  "data": "int //数据包"
}
</pre>

<hr><h2 id="设置消息已读">设置消息已读</h2>

<pre class="prettyprint lang-json">
method：POST
url: /api/message/read-message
</pre>

<p><strong>参数列表</strong></p>

<table><tr><th>参数名</th><th>类型</th><th>必需</th><th>描述</th></tr><tr><td>id</td><td>int</td><td>true</td><td>消息id</td></tr></table>

<p>返回结果: <a href="../javaCodes/com_worldelite_job_api_MessageApi_setMessageRead_ApiResult.html">Android Code</a> | <a href="../iosCodes/com_worldelite_job_api_MessageApi_setMessageRead_ApiResult.html">IOS Code</a></p>

<pre class="prettyprint lang-json">
{
  "code": "int //0为成功，其他错误码参考 ApiCode",
  "msg": "string //错误消息",
  "data": {}
}
</pre>

<hr><h2 id="设置全部消息已读">设置全部消息已读</h2>

<pre class="prettyprint lang-json">
method：POST
url: /api/message/read-all-message
</pre>

<p><strong>参数列表</strong></p>

<table><tr><th>参数名</th><th>类型</th><th>必需</th><th>描述</th></tr></table>

<p>返回结果: <a href="../javaCodes/com_worldelite_job_api_MessageApi_setAllMessageRead_ApiResult.html">Android Code</a> | <a href="../iosCodes/com_worldelite_job_api_MessageApi_setAllMessageRead_ApiResult.html">IOS Code</a></p>

<pre class="prettyprint lang-json">
{
  "code": "int //0为成功，其他错误码参考 ApiCode",
  "msg": "string //错误消息",
  "data": {}
}
</pre>

<hr><h2 id="删除消息">删除消息</h2>

<pre class="prettyprint lang-json">
method：POST
url: /api/message/delete
</pre>

<p><strong>参数列表</strong></p>

<table><tr><th>参数名</th><th>类型</th><th>必需</th><th>描述</th></tr><tr><td>id</td><td>int</td><td>true</td><td>消息ID</td></tr></table>

<p>返回结果: <a href="../javaCodes/com_worldelite_job_api_MessageApi_deleteMessage_ApiResult.html">Android Code</a> | <a href="../iosCodes/com_worldelite_job_api_MessageApi_deleteMessage_ApiResult.html">IOS Code</a></p>

<pre class="prettyprint lang-json">
{
  "code": "int //0为成功，其他错误码参考 ApiCode",
  "msg": "string //错误消息",
  "data": {}
}
</pre>

<hr><h2 id="删除全部消息">删除全部消息</h2>

<pre class="prettyprint lang-json">
method：POST
url: /api/message/delete-all
</pre>

<p><strong>参数列表</strong></p>

<table><tr><th>参数名</th><th>类型</th><th>必需</th><th>描述</th></tr></table>

<p>返回结果: <a href="../javaCodes/com_worldelite_job_api_MessageApi_deleteAllMessage_ApiResult.html">Android Code</a> | <a href="../iosCodes/com_worldelite_job_api_MessageApi_deleteAllMessage_ApiResult.html">IOS Code</a></p>

<pre class="prettyprint lang-json">
{
  "code": "int //0为成功，其他错误码参考 ApiCode",
  "msg": "string //错误消息",
  "data": {}
}
</pre>

<hr>
</div>
</body>
</html>